{"ast":null,"code":"import _regeneratorRuntime from\"D:/HTML/cog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/HTML/cog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/HTML/cog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import s from\"./Pixabay.module.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY=\"33787869-53447a662bfbf1633928642d9\";var Pixabay=function Pixabay(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var timer=useRef(null);var getImages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(value){var response,_yield$response$json,hits;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://pixabay.com/api/?key=\".concat(API_KEY,\"&q=\").concat(value,\"&image_type=photo\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:_yield$response$json=_context.sent;hits=_yield$response$json.hits;setImages(hits);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"Catch error :\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function getImages(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getImages(\"dog\");return function(){console.log(\"Unmount component\");};},[]);var handleChange=function handleChange(e){var value=e.target.value;clearTimeout(timer.current);timer.current=setTimeout(function(){getImages(value);},1000);};return/*#__PURE__*/_jsxs(\"div\",{className:s.pixabay_container,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange}),/*#__PURE__*/_jsx(\"ul\",{className:s.list,children:images.map(function(image){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:image.webformatURL,alt:\"animals\"})},image.id);})})]});};export default Pixabay;","map":{"version":3,"names":["useEffect","useRef","useState","s","jsx","_jsx","jsxs","_jsxs","API_KEY","Pixabay","_useState","_useState2","_slicedToArray","images","setImages","timer","getImages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","value","response","_yield$response$json","hits","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","t0","console","log","stop","_x","apply","arguments","handleChange","e","target","clearTimeout","current","setTimeout","className","pixabay_container","children","onChange","list","map","image","src","webformatURL","alt","id"],"sources":["D:/HTML/cog/src/Pages/Pixabay/Pixabay.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport s from \"./Pixabay.module.scss\";\n\nconst API_KEY = \"33787869-53447a662bfbf1633928642d9\";\n\nconst Pixabay = () => {\n    const [images, setImages] = useState([]);\n    const timer = useRef(null);\n\n    const getImages = async (value) => {\n        try {\n            const response = await fetch(\n                `https://pixabay.com/api/?key=${API_KEY}&q=${value}&image_type=photo`\n            );\n            const { hits } = await response.json();\n            setImages(hits);\n        } catch (error) {\n            console.log(\"Catch error :\", error);\n        }\n    };\n\n    useEffect(() => {\n        getImages(\"dog\");\n\n        return () => {\n            console.log(\"Unmount component\");\n        };\n    }, []);\n\n    const handleChange = (e) => {\n        const value = e.target.value;\n\n        clearTimeout(timer.current);\n\n        timer.current = setTimeout(() => {\n            getImages(value);\n        }, 1000);\n    };\n\n    return (\n        <div className={s.pixabay_container}>\n            <input onChange={handleChange} />\n            <ul className={s.list}>\n                {images.map((image) => {\n                    return (\n                        <li key={image.id}>\n                            <img src={image.webformatURL} alt=\"animals\" />\n                        </li>\n                    );\n                })}\n            </ul>\n        </div>\n    );\n};\n\nexport default Pixabay\n"],"mappings":"mTAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,CAAAC,CAAC,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,GAAM,CAAAC,OAAO,CAAG,oCAAoC,CAEpD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAA4BR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,GAAM,CAAAI,KAAK,CAAGd,MAAM,CAAC,IAAI,CAAC,CAE1B,GAAM,CAAAe,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,QAAA,CAAAC,oBAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEC,CAAAC,KAAK,iCAAAC,MAAA,CACQxB,OAAO,QAAAwB,MAAA,CAAMV,KAAK,sBACrD,QAFKC,QAAQ,CAAAK,QAAA,CAAAK,IAAA,CAAAL,QAAA,CAAAE,IAAA,SAGS,CAAAP,QAAQ,CAACW,IAAI,EAAE,QAAAV,oBAAA,CAAAI,QAAA,CAAAK,IAAA,CAA9BR,IAAI,CAAAD,oBAAA,CAAJC,IAAI,CACZX,SAAS,CAACW,IAAI,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEhBQ,OAAO,CAACC,GAAG,CAAC,eAAe,CAAAT,QAAA,CAAAO,EAAA,CAAQ,CAAC,yBAAAP,QAAA,CAAAU,IAAA,MAAAjB,OAAA,iBAE3C,kBAVK,CAAAL,SAASA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAUd,CAEDzC,SAAS,CAAC,UAAM,CACZgB,SAAS,CAAC,KAAK,CAAC,CAEhB,MAAO,WAAM,CACToB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CACpC,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAK,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxB,GAAM,CAAArB,KAAK,CAAGqB,CAAC,CAACC,MAAM,CAACtB,KAAK,CAE5BuB,YAAY,CAAC9B,KAAK,CAAC+B,OAAO,CAAC,CAE3B/B,KAAK,CAAC+B,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC7B/B,SAAS,CAACM,KAAK,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAED,mBACIf,KAAA,QAAKyC,SAAS,CAAE7C,CAAC,CAAC8C,iBAAkB,CAAAC,QAAA,eAChC7C,IAAA,UAAO8C,QAAQ,CAAET,YAAa,EAAG,cACjCrC,IAAA,OAAI2C,SAAS,CAAE7C,CAAC,CAACiD,IAAK,CAAAF,QAAA,CACjBrC,MAAM,CAACwC,GAAG,CAAC,SAACC,KAAK,CAAK,CACnB,mBACIjD,IAAA,OAAA6C,QAAA,cACI7C,IAAA,QAAKkD,GAAG,CAAED,KAAK,CAACE,YAAa,CAACC,GAAG,CAAC,SAAS,EAAG,EADzCH,KAAK,CAACI,EAAE,CAEZ,CAEb,CAAC,CAAC,EACD,GACH,CAEd,CAAC,CAED,cAAe,CAAAjD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}